///////////////////////////////////
// Main song
///////////////////////////////////

game.songs.mainSong.config = {"_str":[0,1],"_p":[{"_b":[["D2",2,"D2",2],["G2",2,"G2",2],["C2",2,"C2",2],["A2",2,"A2",1,"A2",1],["C2",2,"C2",1,"C2",1],["F2",2,"F2",2],["Bb2",2,"Bb2",1,"Bb2",1],["E2",2,"E2",2],["A2",2,"A2",2],["G2",2,"G2",1,"G2",1]],"_s":[[0,1,2,3,0,1,2,3,0,1,2,3,0,1,2,4],[1,2,5,6,7,8,0,9]]},{"_b":[["r",4],["r",3,"A2",1],["r",1,"D2",1,"r",1,"D2",1],["r",1,"G2",1,"r",1,"G2",1],["r",1,"C2",1,"r",1,"C2",1],["r",1,"A2",1,"r",0.5,"A2",0.5,"A2",0.5,"A2",0.25,"A2",0.25],["r",1,"C2",1,"r",0.5,"C2",0.5,"C2",0.5,"C2",0.25,"C2",0.25],["r",1,"F2",1,"r",1,"F2",1],["r",1,"Bb2",1,"r",0.5,"Bb2",0.5,"Bb2",0.5,"Bb2",0.25,"Bb2",0.25],["r",1,"E2",1,"r",1,"E2",1],["r",1,"A2",1,"r",1,"A2",1],["r",1,"G2",1,"r",0.5,"G2",0.5,"G2",0.5,"G2",0.25,"G2",0.25]],"_s":[[0,0,0,1,2,3,4,5,2,3,4,5,2,3,4,6],[3,4,7,8,9,10,2,11]]},{"_b":[["D2",4],["G2",4],["C2",4],["A2",4],["G2",0.5,"G2",0.5,"Bb2",3],["C2",0.5,"C2",0.5,"E2",3],["F2",0.5,"F2",0.5,"A2",3],["Bb2",0.5,"Bb2",0.5,"D2",3],["E2",0.5,"E2",0.5,"G2",3],["A2",0.5,"A2",0.5,"Db2",3],["D2",0.5,"D2",0.5,"F2",3],["G2",0.5,"G2",0.5,"B2",3]],"_s":[[0,1,2,3,0,1,2,3,0,1,2,3,0,1,2,2],[4,5,6,7,8,9,10,11]]},{"_b":[["F3",4],["B3",4],["E3",4],["C3",4],["Bb3",4],["A3",4],["D3",4],["G3",4],["Db3",4]],"_s":[[0,1,2,3,0,1,2,3,0,1,2,3,0,1,2,2],[4,2,5,6,7,8,0,1]]},{"_b":[["A3",4],["D3",4],["G3",4],["E3",4],["C3",4],["F3",4],["bB3",4]],"_s":[[0,1,2,3,0,1,2,3,0,1,2,3,0,1,2,2],[1,2,4,5,6,3,0,1]]},{"_b":[["C3",4],["F3",4],["B3",4],["G3",4],["Bb3",4],["E3",4],["A3",4],["D3",4]],"_s":[[0,1,2,3,0,1,2,3,0,1,2,3,0,1,2,4],[1,4,5,6,7,3,0,1]]},{"_b":[["r",4],["r",0.5,"F3",0.5,"A3",0.5,"G3",0.5,"E3",2],["r",0.5,"F3",0.5,"D3",0.5,"C3",0.5,"A3",2],["r",0.5,"C3",0.5,"D3",1,"E3",0.5,"F3",0.5,"G3",0.5,"E3",0.5],["E3",2,"r",2],["E3",4],["Bb3",0.5,"r",1,"F3",2],["E3",0.5,"r",1,"Bb3",0.5,"D3",0.5,"E3",0.5,"F3",0.5,"G3",0.5],["A3",0.5,"r",1,"E3",2],["D3",0.5,"r",1,"A3",0.5,"C3",0.5,"D3",0.5,"E3",0.5,"F3",0.5],["G3",0.5,"r",1,"D3",2],["Db3",0.5,"r",1,"G3",2],["F3",2,"r",2],["B3",1,"r",3]],"_s":[[0,0,0,0,0,0,0,0,1,2,3,4,1,2,3,5],[6,7,8,9,10,11,12,13]]}]}

game.songs.mainSong.playSong = function() {

    // Restart mge sequencer
    mge.sequencer.stop()
    mge.sequencer.reset()

    // Create the orchestra (list of instruments)
    let orchestra = []
    orchestra.push(game.instruments.kick)
    orchestra.push(game.instruments.snare)
    orchestra.push(game.instruments.electricPiano)
    orchestra.push(game.instruments.electricPiano)
    orchestra.push(game.instruments.electricPiano)
    orchestra.push(game.instruments.electricPiano)
    orchestra.push(game.instruments.electricPiano)

    // Create the mix
    let mix = [9.05,0.85,1.45,1.25,1.25,1.25,3]

    // Define the tempo
    let bpm = 120

    // And finally play the song
    mge.audio.volume = 1.5
    game.songs.mainSong.play(bpm,orchestra,mix)

}
